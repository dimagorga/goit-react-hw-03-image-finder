(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__21680",Modal:"Modal_Modal__1_QtO"}},22:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__G451K"}},23:function(e,t,a){e.exports={Button:"Button_Button__3nyw9"}},28:function(e,t,a){},29:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),r=a(20),c=a.n(r),i=(a(28),a(11)),s=a(3),l=a(4),u=a(6),m=a(5),h=(a(29),a(30),a(21)),d=a.n(h);var p={fetchImages:function(e,t){return d.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=22395218-1fa4e36600279d8c4f99c77de&image_type=photo&orientation=horizontal&per_page=12"))}},g=a(7),b=a.n(g),f=a(0),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={input:""},e.handleChange=function(t){e.setState({input:t.target.value.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),""===e.state.input.trim()&&alert("\u0432\u0432\u0435\u0434\u0438\u0442\u0435"),e.props.onSubmit(e.state.input),e.setState({input:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)("header",{className:b.a.Searchbar,children:Object(f.jsxs)("form",{className:b.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(f.jsx)("button",{type:"submit",onClick:this.handleSubmit,className:b.a.SearchFormButton}),Object(f.jsx)("input",{onChange:this.handleChange,className:b.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),y=a(22),v=a.n(y);var O=function(e){var t=e.children;return Object(f.jsx)("ul",{className:v.a.ImageGallery,children:t})},S=a(9),I=a.n(S);var _=function(e){var t=e.imagesList,a=e.modalOpen;return t.map((function(e){return Object(f.jsx)("li",{onClick:a,className:I.a.ImageGalleryItem,children:Object(f.jsx)("img",{src:e.webformatURL,alt:e.webformatURL,className:I.a.ImageGalleryItemImage})},e.id)}))},w=a(10),x=a.n(w),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleKeyDown=function(t){"Escape"!==t.key&&t.target!==t.currentTarget||e.props.modalClose()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.image.largeImageURL;return console.log(this.props.image),Object(f.jsx)("div",{className:x.a.Overlay,children:Object(f.jsx)("div",{className:x.a.Modal,children:Object(f.jsx)("img",{src:e,alt:""})})})}}]),a}(n.Component),C=a(23),M=a.n(C);function F(e){var t=e.type,a=e.name,n=e.onBtnClick;return Object(f.jsx)("button",{className:M.a.Button,type:t,onClick:n,children:a})}var G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={showModal:!1,isloading:!1,searchInput:"",page:1,images:[],modal:""},e.searchImages=function(t,a){e.setState({isloading:!0}),p.fetchImages(t,a).then((function(t){1===a?e.setState({images:t.data.hits}):(e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(t.data.hits))}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))})).catch((function(e){console.log(e)})).then((function(){e.setState({isloading:!1})}))},e.handleFormSubmit=function(t){""===e.state.searchInput.trim&&e.setState({images:[]}),e.setState({searchInput:t})},e.onLoadMoreClick=function(t){t.preventDefault(),e.setState((function(e){return{page:e.page+1}}))},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.searchInput,o=a.page;t.searchInput!==n&&this.searchImages(n,1),t.page!==o&&this.searchImages(n,o)}},{key:"render",value:function(){var e=this.state,t=e.modal,a=e.images,n=e.showModal;return Object(f.jsxs)("div",{className:"App",children:[n&&Object(f.jsx)(k,{modalClose:this.toggleModal,image:t}),Object(f.jsx)(j,{onSubmit:this.handleFormSubmit}),Object(f.jsx)(O,{children:Object(f.jsx)(_,{modalOpen:this.toggleModal,imagesList:a})}),a.length>0&&Object(f.jsx)(F,{type:"button",name:"Load more",onBtnClick:this.onLoadMoreClick})]})}}]),a}(n.Component);c.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(G,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2Qcc5",SearchForm:"Searchbar_SearchForm__25Fla",SearchFormButton:"Searchbar_SearchFormButton__1bFMh","SearchFormButton-label":"Searchbar_SearchFormButton-label__3v5nE",SearchFormInput:"Searchbar_SearchFormInput__3dV4a"}},9:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3lwH4",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3Aky8"}}},[[50,1,2]]]);
//# sourceMappingURL=main.f4c619ce.chunk.js.map