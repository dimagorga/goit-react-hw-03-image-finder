{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","API/pixabay.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","api","fetchImages","inputValue","pageValue","axios","get","Button","type","name","onBtnClick","className","onClick","Searchbar","state","input","handleChange","e","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","toast","info","theme","props","onSubmit","s","SearchForm","this","SearchFormButton","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","imagesList","modalOpen","map","image","largeImageURL","id","src","webformatURL","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","handleCloseModal","key","currentTarget","modalClose","window","addEventListener","removeEventListener","createPortal","Overlay","modalImage","App","showModal","isLoading","searchInput","page","images","modal","searchImages","imagesApi","then","data","hits","length","error","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","message","finally","handleFormSubmit","onLoadMoreClick","onModalOpen","largeImg","onModalClose","prevProps","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6f417b69.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Qcc5\",\"SearchForm\":\"Searchbar_SearchForm__25Fla\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1bFMh\",\"SearchFormButton-label\":\"Searchbar_SearchFormButton-label__3v5nE\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3dV4a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__21680\",\"Modal\":\"Modal_Modal__1_QtO\",\"image\":\"Modal_image__1KRE8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3lwH4\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3Aky8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__G451K\"};","import axios from \"axios\";\r\n\r\nfunction fetchImages(inputValue, pageValue) {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?q=${inputValue}&page=${pageValue}&key=22395218-1fa4e36600279d8c4f99c77de&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;\r\n","import PropTypes from \"prop-types\";\r\n\r\nfunction Button({ type, name, onBtnClick, className }) {\r\n  return (\r\n    <button className={className} type={type} onClick={onBtnClick}>\r\n      {name}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n  name: PropTypes.string,\r\n  onBtnClick: PropTypes.func.isRequired,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport Button from \"../Button/Button\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    input: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ input: e.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.input.trim() === \"\") {\r\n      toast.info(\"Write something to find!\", {\r\n        theme: \"dark\",\r\n      });\r\n    }\r\n    this.props.onSubmit(this.state.input);\r\n    this.setState({ input: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <Button\r\n            type=\"submit\"\r\n            onBtnClick={this.handleSubmit}\r\n            className={s.SearchFormButton}\r\n          />\r\n          <input\r\n            onChange={this.handleChange}\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n        <ToastContainer />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import s from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ children }) {\r\n  return <ul className={s.ImageGallery}>{children}</ul>;\r\n}\r\nexport default ImageGallery;\r\n","import s from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nfunction ImageGalleryItem({ imagesList, modalOpen }) {\r\n  return imagesList.map((image) => {\r\n    return (\r\n      <li\r\n        key={image.id}\r\n        onClick={() => modalOpen(image.largeImageURL)}\r\n        className={s.ImageGalleryItem}\r\n      >\r\n        <img\r\n          id={image.id}\r\n          src={image.webformatURL}\r\n          alt=\"/\"\r\n          className={s.ImageGalleryItemImage}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  imagesList: PropTypes.array.isRequired,\r\n  modalOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleCloseModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleCloseModal);\r\n  }\r\n\r\n  handleCloseModal = (e) => {\r\n    if (e.key === \"Escape\" || e.target === e.currentTarget) {\r\n      this.props.modalClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleCloseModal}>\r\n        <div className={s.Modal}>\r\n          <img className={s.modalImage} src={this.props.modalImage} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  modalImage: PropTypes.string.isRequired,\r\n  modalClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from \"react\";\nimport \"./App.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport imagesApi from \"./API/pixabay\";\nimport Loader from \"react-loader-spinner\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport ImageGalleryItem from \"./components/ImageGalleryItem/ImageGalleryItem\";\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\n\nclass App extends Component {\n  state = {\n    showModal: false,\n    isLoading: false,\n    searchInput: \"\",\n    page: 1,\n    images: [],\n    modal: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchInput, page } = this.state;\n    if (prevState.searchInput !== searchInput) {\n      this.searchImages(searchInput, 1);\n    }\n    if (prevState.page !== page) {\n      this.searchImages(searchInput, page);\n    }\n  }\n\n  searchImages = (searchInput, page) => {\n    this.setState({ isLoading: true });\n    imagesApi\n      .fetchImages(searchInput, page)\n      .then((images) => {\n        if (images.data.hits.length === 0) {\n          toast.error(`\"${searchInput}\" is not found`, {\n            theme: \"dark\",\n          });\n        }\n        this.setState((prevState) =>\n          page === 1\n            ? {\n                images: images.data.hits,\n              }\n            : {\n                images: [...prevState.images, ...images.data.hits],\n              }\n        );\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => {\n        const notify = () => toast(error.message);\n        notify();\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleFormSubmit = (searchInput) => {\n    if (this.state.searchInput.trim === \"\") {\n      this.setState({ images: [] });\n    } else {\n      this.setState({ searchInput });\n    }\n  };\n\n  onLoadMoreClick = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  onModalOpen = (largeImg) => {\n    this.setState({\n      showModal: true,\n      modal: largeImg,\n    });\n  };\n\n  onModalClose = () => {\n    this.setState({\n      showModal: false,\n      modal: \"\",\n    });\n  };\n\n  render() {\n    const { modal, images, showModal, isLoading } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery>\n          <ImageGalleryItem modalOpen={this.onModalOpen} imagesList={images} />\n        </ImageGallery>\n        {isLoading && (\n          <Loader\n            className=\"Loader\"\n            type=\"Grid\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n          />\n        )}\n        {images.length > 0 && (\n          <Button\n            type=\"button\"\n            name=\"Load more\"\n            onBtnClick={this.onLoadMoreClick}\n            className=\"Button\"\n          />\n        )}\n        {showModal && (\n          <Modal modalClose={this.onModalClose} modalImage={modal} />\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}